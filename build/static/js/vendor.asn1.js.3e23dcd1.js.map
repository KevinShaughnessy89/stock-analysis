{"version":3,"file":"static/js/vendor.asn1.js.3e23dcd1.js","mappings":"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","sources":["../node_modules/asn1.js/lib/asn1.js","../node_modules/asn1.js/lib/asn1/api.js","../node_modules/asn1.js/lib/asn1/base/buffer.js","../node_modules/asn1.js/lib/asn1/base/index.js","../node_modules/asn1.js/lib/asn1/base/node.js","../node_modules/asn1.js/lib/asn1/base/reporter.js","../node_modules/asn1.js/lib/asn1/constants/der.js","../node_modules/asn1.js/lib/asn1/constants/index.js","../node_modules/asn1.js/lib/asn1/decoders/der.js","../node_modules/asn1.js/lib/asn1/decoders/index.js","../node_modules/asn1.js/lib/asn1/decoders/pem.js","../node_modules/asn1.js/lib/asn1/encoders/der.js","../node_modules/asn1.js/lib/asn1/encoders/index.js","../node_modules/asn1.js/lib/asn1/encoders/pem.js"],"sourcesContent":["var asn1 = exports;\n\nasn1.bignum = require('bn.js');\n\nasn1.define = require('./asn1/api').define;\nasn1.base = require('./asn1/base');\nasn1.constants = require('./asn1/constants');\nasn1.decoders = require('./asn1/decoders');\nasn1.encoders = require('./asn1/encoders');\n","var asn1 = require('../asn1');\nvar inherits = require('inherits');\n\nvar api = exports;\n\napi.define = function define(name, body) {\n  return new Entity(name, body);\n};\n\nfunction Entity(name, body) {\n  this.name = name;\n  this.body = body;\n\n  this.decoders = {};\n  this.encoders = {};\n};\n\nEntity.prototype._createNamed = function createNamed(base) {\n  var named;\n  try {\n    named = require('vm').runInThisContext(\n      '(function ' + this.name + '(entity) {\\n' +\n      '  this._initNamed(entity);\\n' +\n      '})'\n    );\n  } catch (e) {\n    named = function (entity) {\n      this._initNamed(entity);\n    };\n  }\n  inherits(named, base);\n  named.prototype._initNamed = function initnamed(entity) {\n    base.call(this, entity);\n  };\n\n  return new named(this);\n};\n\nEntity.prototype._getDecoder = function _getDecoder(enc) {\n  enc = enc || 'der';\n  // Lazily create decoder\n  if (!this.decoders.hasOwnProperty(enc))\n    this.decoders[enc] = this._createNamed(asn1.decoders[enc]);\n  return this.decoders[enc];\n};\n\nEntity.prototype.decode = function decode(data, enc, options) {\n  return this._getDecoder(enc).decode(data, options);\n};\n\nEntity.prototype._getEncoder = function _getEncoder(enc) {\n  enc = enc || 'der';\n  // Lazily create encoder\n  if (!this.encoders.hasOwnProperty(enc))\n    this.encoders[enc] = this._createNamed(asn1.encoders[enc]);\n  return this.encoders[enc];\n};\n\nEntity.prototype.encode = function encode(data, enc, /* internal */ reporter) {\n  return this._getEncoder(enc).encode(data, reporter);\n};\n","var inherits = require('inherits');\nvar Reporter = require('../base').Reporter;\nvar Buffer = require('buffer').Buffer;\n\nfunction DecoderBuffer(base, options) {\n  Reporter.call(this, options);\n  if (!Buffer.isBuffer(base)) {\n    this.error('Input not Buffer');\n    return;\n  }\n\n  this.base = base;\n  this.offset = 0;\n  this.length = base.length;\n}\ninherits(DecoderBuffer, Reporter);\nexports.DecoderBuffer = DecoderBuffer;\n\nDecoderBuffer.prototype.save = function save() {\n  return { offset: this.offset, reporter: Reporter.prototype.save.call(this) };\n};\n\nDecoderBuffer.prototype.restore = function restore(save) {\n  // Return skipped data\n  var res = new DecoderBuffer(this.base);\n  res.offset = save.offset;\n  res.length = this.offset;\n\n  this.offset = save.offset;\n  Reporter.prototype.restore.call(this, save.reporter);\n\n  return res;\n};\n\nDecoderBuffer.prototype.isEmpty = function isEmpty() {\n  return this.offset === this.length;\n};\n\nDecoderBuffer.prototype.readUInt8 = function readUInt8(fail) {\n  if (this.offset + 1 <= this.length)\n    return this.base.readUInt8(this.offset++, true);\n  else\n    return this.error(fail || 'DecoderBuffer overrun');\n}\n\nDecoderBuffer.prototype.skip = function skip(bytes, fail) {\n  if (!(this.offset + bytes <= this.length))\n    return this.error(fail || 'DecoderBuffer overrun');\n\n  var res = new DecoderBuffer(this.base);\n\n  // Share reporter state\n  res._reporterState = this._reporterState;\n\n  res.offset = this.offset;\n  res.length = this.offset + bytes;\n  this.offset += bytes;\n  return res;\n}\n\nDecoderBuffer.prototype.raw = function raw(save) {\n  return this.base.slice(save ? save.offset : this.offset, this.length);\n}\n\nfunction EncoderBuffer(value, reporter) {\n  if (Array.isArray(value)) {\n    this.length = 0;\n    this.value = value.map(function(item) {\n      if (!(item instanceof EncoderBuffer))\n        item = new EncoderBuffer(item, reporter);\n      this.length += item.length;\n      return item;\n    }, this);\n  } else if (typeof value === 'number') {\n    if (!(0 <= value && value <= 0xff))\n      return reporter.error('non-byte EncoderBuffer value');\n    this.value = value;\n    this.length = 1;\n  } else if (typeof value === 'string') {\n    this.value = value;\n    this.length = Buffer.byteLength(value);\n  } else if (Buffer.isBuffer(value)) {\n    this.value = value;\n    this.length = value.length;\n  } else {\n    return reporter.error('Unsupported type: ' + typeof value);\n  }\n}\nexports.EncoderBuffer = EncoderBuffer;\n\nEncoderBuffer.prototype.join = function join(out, offset) {\n  if (!out)\n    out = new Buffer(this.length);\n  if (!offset)\n    offset = 0;\n\n  if (this.length === 0)\n    return out;\n\n  if (Array.isArray(this.value)) {\n    this.value.forEach(function(item) {\n      item.join(out, offset);\n      offset += item.length;\n    });\n  } else {\n    if (typeof this.value === 'number')\n      out[offset] = this.value;\n    else if (typeof this.value === 'string')\n      out.write(this.value, offset);\n    else if (Buffer.isBuffer(this.value))\n      this.value.copy(out, offset);\n    offset += this.length;\n  }\n\n  return out;\n};\n","var base = exports;\n\nbase.Reporter = require('./reporter').Reporter;\nbase.DecoderBuffer = require('./buffer').DecoderBuffer;\nbase.EncoderBuffer = require('./buffer').EncoderBuffer;\nbase.Node = require('./node');\n","var Reporter = require('../base').Reporter;\nvar EncoderBuffer = require('../base').EncoderBuffer;\nvar DecoderBuffer = require('../base').DecoderBuffer;\nvar assert = require('minimalistic-assert');\n\n// Supported tags\nvar tags = [\n  'seq', 'seqof', 'set', 'setof', 'objid', 'bool',\n  'gentime', 'utctime', 'null_', 'enum', 'int', 'objDesc',\n  'bitstr', 'bmpstr', 'charstr', 'genstr', 'graphstr', 'ia5str', 'iso646str',\n  'numstr', 'octstr', 'printstr', 't61str', 'unistr', 'utf8str', 'videostr'\n];\n\n// Public methods list\nvar methods = [\n  'key', 'obj', 'use', 'optional', 'explicit', 'implicit', 'def', 'choice',\n  'any', 'contains'\n].concat(tags);\n\n// Overrided methods list\nvar overrided = [\n  '_peekTag', '_decodeTag', '_use',\n  '_decodeStr', '_decodeObjid', '_decodeTime',\n  '_decodeNull', '_decodeInt', '_decodeBool', '_decodeList',\n\n  '_encodeComposite', '_encodeStr', '_encodeObjid', '_encodeTime',\n  '_encodeNull', '_encodeInt', '_encodeBool'\n];\n\nfunction Node(enc, parent) {\n  var state = {};\n  this._baseState = state;\n\n  state.enc = enc;\n\n  state.parent = parent || null;\n  state.children = null;\n\n  // State\n  state.tag = null;\n  state.args = null;\n  state.reverseArgs = null;\n  state.choice = null;\n  state.optional = false;\n  state.any = false;\n  state.obj = false;\n  state.use = null;\n  state.useDecoder = null;\n  state.key = null;\n  state['default'] = null;\n  state.explicit = null;\n  state.implicit = null;\n  state.contains = null;\n\n  // Should create new instance on each method\n  if (!state.parent) {\n    state.children = [];\n    this._wrap();\n  }\n}\nmodule.exports = Node;\n\nvar stateProps = [\n  'enc', 'parent', 'children', 'tag', 'args', 'reverseArgs', 'choice',\n  'optional', 'any', 'obj', 'use', 'alteredUse', 'key', 'default', 'explicit',\n  'implicit', 'contains'\n];\n\nNode.prototype.clone = function clone() {\n  var state = this._baseState;\n  var cstate = {};\n  stateProps.forEach(function(prop) {\n    cstate[prop] = state[prop];\n  });\n  var res = new this.constructor(cstate.parent);\n  res._baseState = cstate;\n  return res;\n};\n\nNode.prototype._wrap = function wrap() {\n  var state = this._baseState;\n  methods.forEach(function(method) {\n    this[method] = function _wrappedMethod() {\n      var clone = new this.constructor(this);\n      state.children.push(clone);\n      return clone[method].apply(clone, arguments);\n    };\n  }, this);\n};\n\nNode.prototype._init = function init(body) {\n  var state = this._baseState;\n\n  assert(state.parent === null);\n  body.call(this);\n\n  // Filter children\n  state.children = state.children.filter(function(child) {\n    return child._baseState.parent === this;\n  }, this);\n  assert.equal(state.children.length, 1, 'Root node can have only one child');\n};\n\nNode.prototype._useArgs = function useArgs(args) {\n  var state = this._baseState;\n\n  // Filter children and args\n  var children = args.filter(function(arg) {\n    return arg instanceof this.constructor;\n  }, this);\n  args = args.filter(function(arg) {\n    return !(arg instanceof this.constructor);\n  }, this);\n\n  if (children.length !== 0) {\n    assert(state.children === null);\n    state.children = children;\n\n    // Replace parent to maintain backward link\n    children.forEach(function(child) {\n      child._baseState.parent = this;\n    }, this);\n  }\n  if (args.length !== 0) {\n    assert(state.args === null);\n    state.args = args;\n    state.reverseArgs = args.map(function(arg) {\n      if (typeof arg !== 'object' || arg.constructor !== Object)\n        return arg;\n\n      var res = {};\n      Object.keys(arg).forEach(function(key) {\n        if (key == (key | 0))\n          key |= 0;\n        var value = arg[key];\n        res[value] = key;\n      });\n      return res;\n    });\n  }\n};\n\n//\n// Overrided methods\n//\n\noverrided.forEach(function(method) {\n  Node.prototype[method] = function _overrided() {\n    var state = this._baseState;\n    throw new Error(method + ' not implemented for encoding: ' + state.enc);\n  };\n});\n\n//\n// Public methods\n//\n\ntags.forEach(function(tag) {\n  Node.prototype[tag] = function _tagMethod() {\n    var state = this._baseState;\n    var args = Array.prototype.slice.call(arguments);\n\n    assert(state.tag === null);\n    state.tag = tag;\n\n    this._useArgs(args);\n\n    return this;\n  };\n});\n\nNode.prototype.use = function use(item) {\n  assert(item);\n  var state = this._baseState;\n\n  assert(state.use === null);\n  state.use = item;\n\n  return this;\n};\n\nNode.prototype.optional = function optional() {\n  var state = this._baseState;\n\n  state.optional = true;\n\n  return this;\n};\n\nNode.prototype.def = function def(val) {\n  var state = this._baseState;\n\n  assert(state['default'] === null);\n  state['default'] = val;\n  state.optional = true;\n\n  return this;\n};\n\nNode.prototype.explicit = function explicit(num) {\n  var state = this._baseState;\n\n  assert(state.explicit === null && state.implicit === null);\n  state.explicit = num;\n\n  return this;\n};\n\nNode.prototype.implicit = function implicit(num) {\n  var state = this._baseState;\n\n  assert(state.explicit === null && state.implicit === null);\n  state.implicit = num;\n\n  return this;\n};\n\nNode.prototype.obj = function obj() {\n  var state = this._baseState;\n  var args = Array.prototype.slice.call(arguments);\n\n  state.obj = true;\n\n  if (args.length !== 0)\n    this._useArgs(args);\n\n  return this;\n};\n\nNode.prototype.key = function key(newKey) {\n  var state = this._baseState;\n\n  assert(state.key === null);\n  state.key = newKey;\n\n  return this;\n};\n\nNode.prototype.any = function any() {\n  var state = this._baseState;\n\n  state.any = true;\n\n  return this;\n};\n\nNode.prototype.choice = function choice(obj) {\n  var state = this._baseState;\n\n  assert(state.choice === null);\n  state.choice = obj;\n  this._useArgs(Object.keys(obj).map(function(key) {\n    return obj[key];\n  }));\n\n  return this;\n};\n\nNode.prototype.contains = function contains(item) {\n  var state = this._baseState;\n\n  assert(state.use === null);\n  state.contains = item;\n\n  return this;\n};\n\n//\n// Decoding\n//\n\nNode.prototype._decode = function decode(input, options) {\n  var state = this._baseState;\n\n  // Decode root node\n  if (state.parent === null)\n    return input.wrapResult(state.children[0]._decode(input, options));\n\n  var result = state['default'];\n  var present = true;\n\n  var prevKey = null;\n  if (state.key !== null)\n    prevKey = input.enterKey(state.key);\n\n  // Check if tag is there\n  if (state.optional) {\n    var tag = null;\n    if (state.explicit !== null)\n      tag = state.explicit;\n    else if (state.implicit !== null)\n      tag = state.implicit;\n    else if (state.tag !== null)\n      tag = state.tag;\n\n    if (tag === null && !state.any) {\n      // Trial and Error\n      var save = input.save();\n      try {\n        if (state.choice === null)\n          this._decodeGeneric(state.tag, input, options);\n        else\n          this._decodeChoice(input, options);\n        present = true;\n      } catch (e) {\n        present = false;\n      }\n      input.restore(save);\n    } else {\n      present = this._peekTag(input, tag, state.any);\n\n      if (input.isError(present))\n        return present;\n    }\n  }\n\n  // Push object on stack\n  var prevObj;\n  if (state.obj && present)\n    prevObj = input.enterObject();\n\n  if (present) {\n    // Unwrap explicit values\n    if (state.explicit !== null) {\n      var explicit = this._decodeTag(input, state.explicit);\n      if (input.isError(explicit))\n        return explicit;\n      input = explicit;\n    }\n\n    var start = input.offset;\n\n    // Unwrap implicit and normal values\n    if (state.use === null && state.choice === null) {\n      if (state.any)\n        var save = input.save();\n      var body = this._decodeTag(\n        input,\n        state.implicit !== null ? state.implicit : state.tag,\n        state.any\n      );\n      if (input.isError(body))\n        return body;\n\n      if (state.any)\n        result = input.raw(save);\n      else\n        input = body;\n    }\n\n    if (options && options.track && state.tag !== null)\n      options.track(input.path(), start, input.length, 'tagged');\n\n    if (options && options.track && state.tag !== null)\n      options.track(input.path(), input.offset, input.length, 'content');\n\n    // Select proper method for tag\n    if (state.any)\n      result = result;\n    else if (state.choice === null)\n      result = this._decodeGeneric(state.tag, input, options);\n    else\n      result = this._decodeChoice(input, options);\n\n    if (input.isError(result))\n      return result;\n\n    // Decode children\n    if (!state.any && state.choice === null && state.children !== null) {\n      state.children.forEach(function decodeChildren(child) {\n        // NOTE: We are ignoring errors here, to let parser continue with other\n        // parts of encoded data\n        child._decode(input, options);\n      });\n    }\n\n    // Decode contained/encoded by schema, only in bit or octet strings\n    if (state.contains && (state.tag === 'octstr' || state.tag === 'bitstr')) {\n      var data = new DecoderBuffer(result);\n      result = this._getUse(state.contains, input._reporterState.obj)\n          ._decode(data, options);\n    }\n  }\n\n  // Pop object\n  if (state.obj && present)\n    result = input.leaveObject(prevObj);\n\n  // Set key\n  if (state.key !== null && (result !== null || present === true))\n    input.leaveKey(prevKey, state.key, result);\n  else if (prevKey !== null)\n    input.exitKey(prevKey);\n\n  return result;\n};\n\nNode.prototype._decodeGeneric = function decodeGeneric(tag, input, options) {\n  var state = this._baseState;\n\n  if (tag === 'seq' || tag === 'set')\n    return null;\n  if (tag === 'seqof' || tag === 'setof')\n    return this._decodeList(input, tag, state.args[0], options);\n  else if (/str$/.test(tag))\n    return this._decodeStr(input, tag, options);\n  else if (tag === 'objid' && state.args)\n    return this._decodeObjid(input, state.args[0], state.args[1], options);\n  else if (tag === 'objid')\n    return this._decodeObjid(input, null, null, options);\n  else if (tag === 'gentime' || tag === 'utctime')\n    return this._decodeTime(input, tag, options);\n  else if (tag === 'null_')\n    return this._decodeNull(input, options);\n  else if (tag === 'bool')\n    return this._decodeBool(input, options);\n  else if (tag === 'objDesc')\n    return this._decodeStr(input, tag, options);\n  else if (tag === 'int' || tag === 'enum')\n    return this._decodeInt(input, state.args && state.args[0], options);\n\n  if (state.use !== null) {\n    return this._getUse(state.use, input._reporterState.obj)\n        ._decode(input, options);\n  } else {\n    return input.error('unknown tag: ' + tag);\n  }\n};\n\nNode.prototype._getUse = function _getUse(entity, obj) {\n\n  var state = this._baseState;\n  // Create altered use decoder if implicit is set\n  state.useDecoder = this._use(entity, obj);\n  assert(state.useDecoder._baseState.parent === null);\n  state.useDecoder = state.useDecoder._baseState.children[0];\n  if (state.implicit !== state.useDecoder._baseState.implicit) {\n    state.useDecoder = state.useDecoder.clone();\n    state.useDecoder._baseState.implicit = state.implicit;\n  }\n  return state.useDecoder;\n};\n\nNode.prototype._decodeChoice = function decodeChoice(input, options) {\n  var state = this._baseState;\n  var result = null;\n  var match = false;\n\n  Object.keys(state.choice).some(function(key) {\n    var save = input.save();\n    var node = state.choice[key];\n    try {\n      var value = node._decode(input, options);\n      if (input.isError(value))\n        return false;\n\n      result = { type: key, value: value };\n      match = true;\n    } catch (e) {\n      input.restore(save);\n      return false;\n    }\n    return true;\n  }, this);\n\n  if (!match)\n    return input.error('Choice not matched');\n\n  return result;\n};\n\n//\n// Encoding\n//\n\nNode.prototype._createEncoderBuffer = function createEncoderBuffer(data) {\n  return new EncoderBuffer(data, this.reporter);\n};\n\nNode.prototype._encode = function encode(data, reporter, parent) {\n  var state = this._baseState;\n  if (state['default'] !== null && state['default'] === data)\n    return;\n\n  var result = this._encodeValue(data, reporter, parent);\n  if (result === undefined)\n    return;\n\n  if (this._skipDefault(result, reporter, parent))\n    return;\n\n  return result;\n};\n\nNode.prototype._encodeValue = function encode(data, reporter, parent) {\n  var state = this._baseState;\n\n  // Decode root node\n  if (state.parent === null)\n    return state.children[0]._encode(data, reporter || new Reporter());\n\n  var result = null;\n\n  // Set reporter to share it with a child class\n  this.reporter = reporter;\n\n  // Check if data is there\n  if (state.optional && data === undefined) {\n    if (state['default'] !== null)\n      data = state['default']\n    else\n      return;\n  }\n\n  // Encode children first\n  var content = null;\n  var primitive = false;\n  if (state.any) {\n    // Anything that was given is translated to buffer\n    result = this._createEncoderBuffer(data);\n  } else if (state.choice) {\n    result = this._encodeChoice(data, reporter);\n  } else if (state.contains) {\n    content = this._getUse(state.contains, parent)._encode(data, reporter);\n    primitive = true;\n  } else if (state.children) {\n    content = state.children.map(function(child) {\n      if (child._baseState.tag === 'null_')\n        return child._encode(null, reporter, data);\n\n      if (child._baseState.key === null)\n        return reporter.error('Child should have a key');\n      var prevKey = reporter.enterKey(child._baseState.key);\n\n      if (typeof data !== 'object')\n        return reporter.error('Child expected, but input is not object');\n\n      var res = child._encode(data[child._baseState.key], reporter, data);\n      reporter.leaveKey(prevKey);\n\n      return res;\n    }, this).filter(function(child) {\n      return child;\n    });\n    content = this._createEncoderBuffer(content);\n  } else {\n    if (state.tag === 'seqof' || state.tag === 'setof') {\n      // TODO(indutny): this should be thrown on DSL level\n      if (!(state.args && state.args.length === 1))\n        return reporter.error('Too many args for : ' + state.tag);\n\n      if (!Array.isArray(data))\n        return reporter.error('seqof/setof, but data is not Array');\n\n      var child = this.clone();\n      child._baseState.implicit = null;\n      content = this._createEncoderBuffer(data.map(function(item) {\n        var state = this._baseState;\n\n        return this._getUse(state.args[0], data)._encode(item, reporter);\n      }, child));\n    } else if (state.use !== null) {\n      result = this._getUse(state.use, parent)._encode(data, reporter);\n    } else {\n      content = this._encodePrimitive(state.tag, data);\n      primitive = true;\n    }\n  }\n\n  // Encode data itself\n  var result;\n  if (!state.any && state.choice === null) {\n    var tag = state.implicit !== null ? state.implicit : state.tag;\n    var cls = state.implicit === null ? 'universal' : 'context';\n\n    if (tag === null) {\n      if (state.use === null)\n        reporter.error('Tag could be omitted only for .use()');\n    } else {\n      if (state.use === null)\n        result = this._encodeComposite(tag, primitive, cls, content);\n    }\n  }\n\n  // Wrap in explicit\n  if (state.explicit !== null)\n    result = this._encodeComposite(state.explicit, false, 'context', result);\n\n  return result;\n};\n\nNode.prototype._encodeChoice = function encodeChoice(data, reporter) {\n  var state = this._baseState;\n\n  var node = state.choice[data.type];\n  if (!node) {\n    assert(\n        false,\n        data.type + ' not found in ' +\n            JSON.stringify(Object.keys(state.choice)));\n  }\n  return node._encode(data.value, reporter);\n};\n\nNode.prototype._encodePrimitive = function encodePrimitive(tag, data) {\n  var state = this._baseState;\n\n  if (/str$/.test(tag))\n    return this._encodeStr(data, tag);\n  else if (tag === 'objid' && state.args)\n    return this._encodeObjid(data, state.reverseArgs[0], state.args[1]);\n  else if (tag === 'objid')\n    return this._encodeObjid(data, null, null);\n  else if (tag === 'gentime' || tag === 'utctime')\n    return this._encodeTime(data, tag);\n  else if (tag === 'null_')\n    return this._encodeNull();\n  else if (tag === 'int' || tag === 'enum')\n    return this._encodeInt(data, state.args && state.reverseArgs[0]);\n  else if (tag === 'bool')\n    return this._encodeBool(data);\n  else if (tag === 'objDesc')\n    return this._encodeStr(data, tag);\n  else\n    throw new Error('Unsupported tag: ' + tag);\n};\n\nNode.prototype._isNumstr = function isNumstr(str) {\n  return /^[0-9 ]*$/.test(str);\n};\n\nNode.prototype._isPrintstr = function isPrintstr(str) {\n  return /^[A-Za-z0-9 '\\(\\)\\+,\\-\\.\\/:=\\?]*$/.test(str);\n};\n","var inherits = require('inherits');\n\nfunction Reporter(options) {\n  this._reporterState = {\n    obj: null,\n    path: [],\n    options: options || {},\n    errors: []\n  };\n}\nexports.Reporter = Reporter;\n\nReporter.prototype.isError = function isError(obj) {\n  return obj instanceof ReporterError;\n};\n\nReporter.prototype.save = function save() {\n  var state = this._reporterState;\n\n  return { obj: state.obj, pathLen: state.path.length };\n};\n\nReporter.prototype.restore = function restore(data) {\n  var state = this._reporterState;\n\n  state.obj = data.obj;\n  state.path = state.path.slice(0, data.pathLen);\n};\n\nReporter.prototype.enterKey = function enterKey(key) {\n  return this._reporterState.path.push(key);\n};\n\nReporter.prototype.exitKey = function exitKey(index) {\n  var state = this._reporterState;\n\n  state.path = state.path.slice(0, index - 1);\n};\n\nReporter.prototype.leaveKey = function leaveKey(index, key, value) {\n  var state = this._reporterState;\n\n  this.exitKey(index);\n  if (state.obj !== null)\n    state.obj[key] = value;\n};\n\nReporter.prototype.path = function path() {\n  return this._reporterState.path.join('/');\n};\n\nReporter.prototype.enterObject = function enterObject() {\n  var state = this._reporterState;\n\n  var prev = state.obj;\n  state.obj = {};\n  return prev;\n};\n\nReporter.prototype.leaveObject = function leaveObject(prev) {\n  var state = this._reporterState;\n\n  var now = state.obj;\n  state.obj = prev;\n  return now;\n};\n\nReporter.prototype.error = function error(msg) {\n  var err;\n  var state = this._reporterState;\n\n  var inherited = msg instanceof ReporterError;\n  if (inherited) {\n    err = msg;\n  } else {\n    err = new ReporterError(state.path.map(function(elem) {\n      return '[' + JSON.stringify(elem) + ']';\n    }).join(''), msg.message || msg, msg.stack);\n  }\n\n  if (!state.options.partial)\n    throw err;\n\n  if (!inherited)\n    state.errors.push(err);\n\n  return err;\n};\n\nReporter.prototype.wrapResult = function wrapResult(result) {\n  var state = this._reporterState;\n  if (!state.options.partial)\n    return result;\n\n  return {\n    result: this.isError(result) ? null : result,\n    errors: state.errors\n  };\n};\n\nfunction ReporterError(path, msg) {\n  this.path = path;\n  this.rethrow(msg);\n};\ninherits(ReporterError, Error);\n\nReporterError.prototype.rethrow = function rethrow(msg) {\n  this.message = msg + ' at: ' + (this.path || '(shallow)');\n  if (Error.captureStackTrace)\n    Error.captureStackTrace(this, ReporterError);\n\n  if (!this.stack) {\n    try {\n      // IE only adds stack when thrown\n      throw new Error(this.message);\n    } catch (e) {\n      this.stack = e.stack;\n    }\n  }\n  return this;\n};\n","var constants = require('../constants');\n\nexports.tagClass = {\n  0: 'universal',\n  1: 'application',\n  2: 'context',\n  3: 'private'\n};\nexports.tagClassByName = constants._reverse(exports.tagClass);\n\nexports.tag = {\n  0x00: 'end',\n  0x01: 'bool',\n  0x02: 'int',\n  0x03: 'bitstr',\n  0x04: 'octstr',\n  0x05: 'null_',\n  0x06: 'objid',\n  0x07: 'objDesc',\n  0x08: 'external',\n  0x09: 'real',\n  0x0a: 'enum',\n  0x0b: 'embed',\n  0x0c: 'utf8str',\n  0x0d: 'relativeOid',\n  0x10: 'seq',\n  0x11: 'set',\n  0x12: 'numstr',\n  0x13: 'printstr',\n  0x14: 't61str',\n  0x15: 'videostr',\n  0x16: 'ia5str',\n  0x17: 'utctime',\n  0x18: 'gentime',\n  0x19: 'graphstr',\n  0x1a: 'iso646str',\n  0x1b: 'genstr',\n  0x1c: 'unistr',\n  0x1d: 'charstr',\n  0x1e: 'bmpstr'\n};\nexports.tagByName = constants._reverse(exports.tag);\n","var constants = exports;\n\n// Helper\nconstants._reverse = function reverse(map) {\n  var res = {};\n\n  Object.keys(map).forEach(function(key) {\n    // Convert key to integer if it is stringified\n    if ((key | 0) == key)\n      key = key | 0;\n\n    var value = map[key];\n    res[value] = key;\n  });\n\n  return res;\n};\n\nconstants.der = require('./der');\n","var inherits = require('inherits');\n\nvar asn1 = require('../../asn1');\nvar base = asn1.base;\nvar bignum = asn1.bignum;\n\n// Import DER constants\nvar der = asn1.constants.der;\n\nfunction DERDecoder(entity) {\n  this.enc = 'der';\n  this.name = entity.name;\n  this.entity = entity;\n\n  // Construct base tree\n  this.tree = new DERNode();\n  this.tree._init(entity.body);\n};\nmodule.exports = DERDecoder;\n\nDERDecoder.prototype.decode = function decode(data, options) {\n  if (!(data instanceof base.DecoderBuffer))\n    data = new base.DecoderBuffer(data, options);\n\n  return this.tree._decode(data, options);\n};\n\n// Tree methods\n\nfunction DERNode(parent) {\n  base.Node.call(this, 'der', parent);\n}\ninherits(DERNode, base.Node);\n\nDERNode.prototype._peekTag = function peekTag(buffer, tag, any) {\n  if (buffer.isEmpty())\n    return false;\n\n  var state = buffer.save();\n  var decodedTag = derDecodeTag(buffer, 'Failed to peek tag: \"' + tag + '\"');\n  if (buffer.isError(decodedTag))\n    return decodedTag;\n\n  buffer.restore(state);\n\n  return decodedTag.tag === tag || decodedTag.tagStr === tag ||\n    (decodedTag.tagStr + 'of') === tag || any;\n};\n\nDERNode.prototype._decodeTag = function decodeTag(buffer, tag, any) {\n  var decodedTag = derDecodeTag(buffer,\n                                'Failed to decode tag of \"' + tag + '\"');\n  if (buffer.isError(decodedTag))\n    return decodedTag;\n\n  var len = derDecodeLen(buffer,\n                         decodedTag.primitive,\n                         'Failed to get length of \"' + tag + '\"');\n\n  // Failure\n  if (buffer.isError(len))\n    return len;\n\n  if (!any &&\n      decodedTag.tag !== tag &&\n      decodedTag.tagStr !== tag &&\n      decodedTag.tagStr + 'of' !== tag) {\n    return buffer.error('Failed to match tag: \"' + tag + '\"');\n  }\n\n  if (decodedTag.primitive || len !== null)\n    return buffer.skip(len, 'Failed to match body of: \"' + tag + '\"');\n\n  // Indefinite length... find END tag\n  var state = buffer.save();\n  var res = this._skipUntilEnd(\n      buffer,\n      'Failed to skip indefinite length body: \"' + this.tag + '\"');\n  if (buffer.isError(res))\n    return res;\n\n  len = buffer.offset - state.offset;\n  buffer.restore(state);\n  return buffer.skip(len, 'Failed to match body of: \"' + tag + '\"');\n};\n\nDERNode.prototype._skipUntilEnd = function skipUntilEnd(buffer, fail) {\n  while (true) {\n    var tag = derDecodeTag(buffer, fail);\n    if (buffer.isError(tag))\n      return tag;\n    var len = derDecodeLen(buffer, tag.primitive, fail);\n    if (buffer.isError(len))\n      return len;\n\n    var res;\n    if (tag.primitive || len !== null)\n      res = buffer.skip(len)\n    else\n      res = this._skipUntilEnd(buffer, fail);\n\n    // Failure\n    if (buffer.isError(res))\n      return res;\n\n    if (tag.tagStr === 'end')\n      break;\n  }\n};\n\nDERNode.prototype._decodeList = function decodeList(buffer, tag, decoder,\n                                                    options) {\n  var result = [];\n  while (!buffer.isEmpty()) {\n    var possibleEnd = this._peekTag(buffer, 'end');\n    if (buffer.isError(possibleEnd))\n      return possibleEnd;\n\n    var res = decoder.decode(buffer, 'der', options);\n    if (buffer.isError(res) && possibleEnd)\n      break;\n    result.push(res);\n  }\n  return result;\n};\n\nDERNode.prototype._decodeStr = function decodeStr(buffer, tag) {\n  if (tag === 'bitstr') {\n    var unused = buffer.readUInt8();\n    if (buffer.isError(unused))\n      return unused;\n    return { unused: unused, data: buffer.raw() };\n  } else if (tag === 'bmpstr') {\n    var raw = buffer.raw();\n    if (raw.length % 2 === 1)\n      return buffer.error('Decoding of string type: bmpstr length mismatch');\n\n    var str = '';\n    for (var i = 0; i < raw.length / 2; i++) {\n      str += String.fromCharCode(raw.readUInt16BE(i * 2));\n    }\n    return str;\n  } else if (tag === 'numstr') {\n    var numstr = buffer.raw().toString('ascii');\n    if (!this._isNumstr(numstr)) {\n      return buffer.error('Decoding of string type: ' +\n                          'numstr unsupported characters');\n    }\n    return numstr;\n  } else if (tag === 'octstr') {\n    return buffer.raw();\n  } else if (tag === 'objDesc') {\n    return buffer.raw();\n  } else if (tag === 'printstr') {\n    var printstr = buffer.raw().toString('ascii');\n    if (!this._isPrintstr(printstr)) {\n      return buffer.error('Decoding of string type: ' +\n                          'printstr unsupported characters');\n    }\n    return printstr;\n  } else if (/str$/.test(tag)) {\n    return buffer.raw().toString();\n  } else {\n    return buffer.error('Decoding of string type: ' + tag + ' unsupported');\n  }\n};\n\nDERNode.prototype._decodeObjid = function decodeObjid(buffer, values, relative) {\n  var result;\n  var identifiers = [];\n  var ident = 0;\n  while (!buffer.isEmpty()) {\n    var subident = buffer.readUInt8();\n    ident <<= 7;\n    ident |= subident & 0x7f;\n    if ((subident & 0x80) === 0) {\n      identifiers.push(ident);\n      ident = 0;\n    }\n  }\n  if (subident & 0x80)\n    identifiers.push(ident);\n\n  var first = (identifiers[0] / 40) | 0;\n  var second = identifiers[0] % 40;\n\n  if (relative)\n    result = identifiers;\n  else\n    result = [first, second].concat(identifiers.slice(1));\n\n  if (values) {\n    var tmp = values[result.join(' ')];\n    if (tmp === undefined)\n      tmp = values[result.join('.')];\n    if (tmp !== undefined)\n      result = tmp;\n  }\n\n  return result;\n};\n\nDERNode.prototype._decodeTime = function decodeTime(buffer, tag) {\n  var str = buffer.raw().toString();\n  if (tag === 'gentime') {\n    var year = str.slice(0, 4) | 0;\n    var mon = str.slice(4, 6) | 0;\n    var day = str.slice(6, 8) | 0;\n    var hour = str.slice(8, 10) | 0;\n    var min = str.slice(10, 12) | 0;\n    var sec = str.slice(12, 14) | 0;\n  } else if (tag === 'utctime') {\n    var year = str.slice(0, 2) | 0;\n    var mon = str.slice(2, 4) | 0;\n    var day = str.slice(4, 6) | 0;\n    var hour = str.slice(6, 8) | 0;\n    var min = str.slice(8, 10) | 0;\n    var sec = str.slice(10, 12) | 0;\n    if (year < 70)\n      year = 2000 + year;\n    else\n      year = 1900 + year;\n  } else {\n    return buffer.error('Decoding ' + tag + ' time is not supported yet');\n  }\n\n  return Date.UTC(year, mon - 1, day, hour, min, sec, 0);\n};\n\nDERNode.prototype._decodeNull = function decodeNull(buffer) {\n  return null;\n};\n\nDERNode.prototype._decodeBool = function decodeBool(buffer) {\n  var res = buffer.readUInt8();\n  if (buffer.isError(res))\n    return res;\n  else\n    return res !== 0;\n};\n\nDERNode.prototype._decodeInt = function decodeInt(buffer, values) {\n  // Bigint, return as it is (assume big endian)\n  var raw = buffer.raw();\n  var res = new bignum(raw);\n\n  if (values)\n    res = values[res.toString(10)] || res;\n\n  return res;\n};\n\nDERNode.prototype._use = function use(entity, obj) {\n  if (typeof entity === 'function')\n    entity = entity(obj);\n  return entity._getDecoder('der').tree;\n};\n\n// Utility methods\n\nfunction derDecodeTag(buf, fail) {\n  var tag = buf.readUInt8(fail);\n  if (buf.isError(tag))\n    return tag;\n\n  var cls = der.tagClass[tag >> 6];\n  var primitive = (tag & 0x20) === 0;\n\n  // Multi-octet tag - load\n  if ((tag & 0x1f) === 0x1f) {\n    var oct = tag;\n    tag = 0;\n    while ((oct & 0x80) === 0x80) {\n      oct = buf.readUInt8(fail);\n      if (buf.isError(oct))\n        return oct;\n\n      tag <<= 7;\n      tag |= oct & 0x7f;\n    }\n  } else {\n    tag &= 0x1f;\n  }\n  var tagStr = der.tag[tag];\n\n  return {\n    cls: cls,\n    primitive: primitive,\n    tag: tag,\n    tagStr: tagStr\n  };\n}\n\nfunction derDecodeLen(buf, primitive, fail) {\n  var len = buf.readUInt8(fail);\n  if (buf.isError(len))\n    return len;\n\n  // Indefinite form\n  if (!primitive && len === 0x80)\n    return null;\n\n  // Definite form\n  if ((len & 0x80) === 0) {\n    // Short form\n    return len;\n  }\n\n  // Long form\n  var num = len & 0x7f;\n  if (num > 4)\n    return buf.error('length octect is too long');\n\n  len = 0;\n  for (var i = 0; i < num; i++) {\n    len <<= 8;\n    var j = buf.readUInt8(fail);\n    if (buf.isError(j))\n      return j;\n    len |= j;\n  }\n\n  return len;\n}\n","var decoders = exports;\n\ndecoders.der = require('./der');\ndecoders.pem = require('./pem');\n","var inherits = require('inherits');\nvar Buffer = require('buffer').Buffer;\n\nvar DERDecoder = require('./der');\n\nfunction PEMDecoder(entity) {\n  DERDecoder.call(this, entity);\n  this.enc = 'pem';\n};\ninherits(PEMDecoder, DERDecoder);\nmodule.exports = PEMDecoder;\n\nPEMDecoder.prototype.decode = function decode(data, options) {\n  var lines = data.toString().split(/[\\r\\n]+/g);\n\n  var label = options.label.toUpperCase();\n\n  var re = /^-----(BEGIN|END) ([^-]+)-----$/;\n  var start = -1;\n  var end = -1;\n  for (var i = 0; i < lines.length; i++) {\n    var match = lines[i].match(re);\n    if (match === null)\n      continue;\n\n    if (match[2] !== label)\n      continue;\n\n    if (start === -1) {\n      if (match[1] !== 'BEGIN')\n        break;\n      start = i;\n    } else {\n      if (match[1] !== 'END')\n        break;\n      end = i;\n      break;\n    }\n  }\n  if (start === -1 || end === -1)\n    throw new Error('PEM section not found for: ' + label);\n\n  var base64 = lines.slice(start + 1, end).join('');\n  // Remove excessive symbols\n  base64.replace(/[^a-z0-9\\+\\/=]+/gi, '');\n\n  var input = new Buffer(base64, 'base64');\n  return DERDecoder.prototype.decode.call(this, input, options);\n};\n","var inherits = require('inherits');\nvar Buffer = require('buffer').Buffer;\n\nvar asn1 = require('../../asn1');\nvar base = asn1.base;\n\n// Import DER constants\nvar der = asn1.constants.der;\n\nfunction DEREncoder(entity) {\n  this.enc = 'der';\n  this.name = entity.name;\n  this.entity = entity;\n\n  // Construct base tree\n  this.tree = new DERNode();\n  this.tree._init(entity.body);\n};\nmodule.exports = DEREncoder;\n\nDEREncoder.prototype.encode = function encode(data, reporter) {\n  return this.tree._encode(data, reporter).join();\n};\n\n// Tree methods\n\nfunction DERNode(parent) {\n  base.Node.call(this, 'der', parent);\n}\ninherits(DERNode, base.Node);\n\nDERNode.prototype._encodeComposite = function encodeComposite(tag,\n                                                              primitive,\n                                                              cls,\n                                                              content) {\n  var encodedTag = encodeTag(tag, primitive, cls, this.reporter);\n\n  // Short form\n  if (content.length < 0x80) {\n    var header = new Buffer(2);\n    header[0] = encodedTag;\n    header[1] = content.length;\n    return this._createEncoderBuffer([ header, content ]);\n  }\n\n  // Long form\n  // Count octets required to store length\n  var lenOctets = 1;\n  for (var i = content.length; i >= 0x100; i >>= 8)\n    lenOctets++;\n\n  var header = new Buffer(1 + 1 + lenOctets);\n  header[0] = encodedTag;\n  header[1] = 0x80 | lenOctets;\n\n  for (var i = 1 + lenOctets, j = content.length; j > 0; i--, j >>= 8)\n    header[i] = j & 0xff;\n\n  return this._createEncoderBuffer([ header, content ]);\n};\n\nDERNode.prototype._encodeStr = function encodeStr(str, tag) {\n  if (tag === 'bitstr') {\n    return this._createEncoderBuffer([ str.unused | 0, str.data ]);\n  } else if (tag === 'bmpstr') {\n    var buf = new Buffer(str.length * 2);\n    for (var i = 0; i < str.length; i++) {\n      buf.writeUInt16BE(str.charCodeAt(i), i * 2);\n    }\n    return this._createEncoderBuffer(buf);\n  } else if (tag === 'numstr') {\n    if (!this._isNumstr(str)) {\n      return this.reporter.error('Encoding of string type: numstr supports ' +\n                                 'only digits and space');\n    }\n    return this._createEncoderBuffer(str);\n  } else if (tag === 'printstr') {\n    if (!this._isPrintstr(str)) {\n      return this.reporter.error('Encoding of string type: printstr supports ' +\n                                 'only latin upper and lower case letters, ' +\n                                 'digits, space, apostrophe, left and rigth ' +\n                                 'parenthesis, plus sign, comma, hyphen, ' +\n                                 'dot, slash, colon, equal sign, ' +\n                                 'question mark');\n    }\n    return this._createEncoderBuffer(str);\n  } else if (/str$/.test(tag)) {\n    return this._createEncoderBuffer(str);\n  } else if (tag === 'objDesc') {\n    return this._createEncoderBuffer(str);\n  } else {\n    return this.reporter.error('Encoding of string type: ' + tag +\n                               ' unsupported');\n  }\n};\n\nDERNode.prototype._encodeObjid = function encodeObjid(id, values, relative) {\n  if (typeof id === 'string') {\n    if (!values)\n      return this.reporter.error('string objid given, but no values map found');\n    if (!values.hasOwnProperty(id))\n      return this.reporter.error('objid not found in values map');\n    id = values[id].split(/[\\s\\.]+/g);\n    for (var i = 0; i < id.length; i++)\n      id[i] |= 0;\n  } else if (Array.isArray(id)) {\n    id = id.slice();\n    for (var i = 0; i < id.length; i++)\n      id[i] |= 0;\n  }\n\n  if (!Array.isArray(id)) {\n    return this.reporter.error('objid() should be either array or string, ' +\n                               'got: ' + JSON.stringify(id));\n  }\n\n  if (!relative) {\n    if (id[1] >= 40)\n      return this.reporter.error('Second objid identifier OOB');\n    id.splice(0, 2, id[0] * 40 + id[1]);\n  }\n\n  // Count number of octets\n  var size = 0;\n  for (var i = 0; i < id.length; i++) {\n    var ident = id[i];\n    for (size++; ident >= 0x80; ident >>= 7)\n      size++;\n  }\n\n  var objid = new Buffer(size);\n  var offset = objid.length - 1;\n  for (var i = id.length - 1; i >= 0; i--) {\n    var ident = id[i];\n    objid[offset--] = ident & 0x7f;\n    while ((ident >>= 7) > 0)\n      objid[offset--] = 0x80 | (ident & 0x7f);\n  }\n\n  return this._createEncoderBuffer(objid);\n};\n\nfunction two(num) {\n  if (num < 10)\n    return '0' + num;\n  else\n    return num;\n}\n\nDERNode.prototype._encodeTime = function encodeTime(time, tag) {\n  var str;\n  var date = new Date(time);\n\n  if (tag === 'gentime') {\n    str = [\n      two(date.getFullYear()),\n      two(date.getUTCMonth() + 1),\n      two(date.getUTCDate()),\n      two(date.getUTCHours()),\n      two(date.getUTCMinutes()),\n      two(date.getUTCSeconds()),\n      'Z'\n    ].join('');\n  } else if (tag === 'utctime') {\n    str = [\n      two(date.getFullYear() % 100),\n      two(date.getUTCMonth() + 1),\n      two(date.getUTCDate()),\n      two(date.getUTCHours()),\n      two(date.getUTCMinutes()),\n      two(date.getUTCSeconds()),\n      'Z'\n    ].join('');\n  } else {\n    this.reporter.error('Encoding ' + tag + ' time is not supported yet');\n  }\n\n  return this._encodeStr(str, 'octstr');\n};\n\nDERNode.prototype._encodeNull = function encodeNull() {\n  return this._createEncoderBuffer('');\n};\n\nDERNode.prototype._encodeInt = function encodeInt(num, values) {\n  if (typeof num === 'string') {\n    if (!values)\n      return this.reporter.error('String int or enum given, but no values map');\n    if (!values.hasOwnProperty(num)) {\n      return this.reporter.error('Values map doesn\\'t contain: ' +\n                                 JSON.stringify(num));\n    }\n    num = values[num];\n  }\n\n  // Bignum, assume big endian\n  if (typeof num !== 'number' && !Buffer.isBuffer(num)) {\n    var numArray = num.toArray();\n    if (!num.sign && numArray[0] & 0x80) {\n      numArray.unshift(0);\n    }\n    num = new Buffer(numArray);\n  }\n\n  if (Buffer.isBuffer(num)) {\n    var size = num.length;\n    if (num.length === 0)\n      size++;\n\n    var out = new Buffer(size);\n    num.copy(out);\n    if (num.length === 0)\n      out[0] = 0\n    return this._createEncoderBuffer(out);\n  }\n\n  if (num < 0x80)\n    return this._createEncoderBuffer(num);\n\n  if (num < 0x100)\n    return this._createEncoderBuffer([0, num]);\n\n  var size = 1;\n  for (var i = num; i >= 0x100; i >>= 8)\n    size++;\n\n  var out = new Array(size);\n  for (var i = out.length - 1; i >= 0; i--) {\n    out[i] = num & 0xff;\n    num >>= 8;\n  }\n  if(out[0] & 0x80) {\n    out.unshift(0);\n  }\n\n  return this._createEncoderBuffer(new Buffer(out));\n};\n\nDERNode.prototype._encodeBool = function encodeBool(value) {\n  return this._createEncoderBuffer(value ? 0xff : 0);\n};\n\nDERNode.prototype._use = function use(entity, obj) {\n  if (typeof entity === 'function')\n    entity = entity(obj);\n  return entity._getEncoder('der').tree;\n};\n\nDERNode.prototype._skipDefault = function skipDefault(dataBuffer, reporter, parent) {\n  var state = this._baseState;\n  var i;\n  if (state['default'] === null)\n    return false;\n\n  var data = dataBuffer.join();\n  if (state.defaultBuffer === undefined)\n    state.defaultBuffer = this._encodeValue(state['default'], reporter, parent).join();\n\n  if (data.length !== state.defaultBuffer.length)\n    return false;\n\n  for (i=0; i < data.length; i++)\n    if (data[i] !== state.defaultBuffer[i])\n      return false;\n\n  return true;\n};\n\n// Utility methods\n\nfunction encodeTag(tag, primitive, cls, reporter) {\n  var res;\n\n  if (tag === 'seqof')\n    tag = 'seq';\n  else if (tag === 'setof')\n    tag = 'set';\n\n  if (der.tagByName.hasOwnProperty(tag))\n    res = der.tagByName[tag];\n  else if (typeof tag === 'number' && (tag | 0) === tag)\n    res = tag;\n  else\n    return reporter.error('Unknown tag: ' + tag);\n\n  if (res >= 0x1f)\n    return reporter.error('Multi-octet tag encoding unsupported');\n\n  if (!primitive)\n    res |= 0x20;\n\n  res |= (der.tagClassByName[cls || 'universal'] << 6);\n\n  return res;\n}\n","var encoders = exports;\n\nencoders.der = require('./der');\nencoders.pem = require('./pem');\n","var inherits = require('inherits');\n\nvar DEREncoder = require('./der');\n\nfunction PEMEncoder(entity) {\n  DEREncoder.call(this, entity);\n  this.enc = 'pem';\n};\ninherits(PEMEncoder, DEREncoder);\nmodule.exports = PEMEncoder;\n\nPEMEncoder.prototype.encode = function encode(data, options) {\n  var buf = DEREncoder.prototype.encode.call(this, data);\n\n  var p = buf.toString('base64');\n  var out = [ '-----BEGIN ' + options.label + '-----' ];\n  for (var i = 0; i < p.length; i += 64)\n    out.push(p.slice(i, i + 64));\n  out.push('-----END ' + options.label + '-----');\n  return out.join('\\n');\n};\n"],"names":["asn1","exports","bignum","require","define","base","constants","decoders","encoders","inherits","Entity","name","body","this","prototype","_createNamed","named","e","entity","_initNamed","call","_getDecoder","enc","hasOwnProperty","decode","data","options","_getEncoder","encode","reporter","Reporter","Buffer","DecoderBuffer","isBuffer","offset","length","error","EncoderBuffer","value","Array","isArray","map","item","byteLength","save","restore","res","isEmpty","readUInt8","fail","skip","bytes","_reporterState","raw","slice","join","out","forEach","write","copy","Node","assert","tags","methods","concat","parent","state","_baseState","children","tag","args","reverseArgs","choice","optional","any","obj","use","useDecoder","key","explicit","implicit","contains","_wrap","module","stateProps","clone","cstate","prop","constructor","method","push","apply","arguments","_init","filter","child","equal","_useArgs","arg","Object","keys","Error","def","val","num","newKey","_decode","input","wrapResult","prevObj","result","present","prevKey","enterKey","_peekTag","isError","_decodeGeneric","_decodeChoice","enterObject","_decodeTag","start","track","path","_getUse","leaveObject","exitKey","leaveKey","_decodeList","test","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeBool","_decodeInt","_use","match","some","node","type","_createEncoderBuffer","_encode","_encodeValue","undefined","_skipDefault","content","primitive","_encodeChoice","_encodePrimitive","cls","_encodeComposite","JSON","stringify","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool","_isNumstr","str","_isPrintstr","errors","ReporterError","msg","rethrow","pathLen","index","prev","now","err","inherited","elem","message","stack","partial","captureStackTrace","tagClass","tagClassByName","_reverse","tagByName","der","DERDecoder","tree","DERNode","derDecodeTag","buf","oct","tagStr","derDecodeLen","len","i","j","buffer","decodedTag","_skipUntilEnd","decoder","possibleEnd","unused","String","fromCharCode","readUInt16BE","numstr","toString","printstr","values","relative","identifiers","ident","subident","first","second","tmp","year","mon","day","hour","min","sec","Date","UTC","pem","PEMDecoder","lines","split","label","toUpperCase","re","end","base64","replace","DEREncoder","two","header","encodedTag","encodeTag","lenOctets","writeUInt16BE","charCodeAt","id","splice","size","objid","time","date","getFullYear","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","numArray","toArray","sign","unshift","dataBuffer","defaultBuffer","PEMEncoder","p"],"sourceRoot":""}