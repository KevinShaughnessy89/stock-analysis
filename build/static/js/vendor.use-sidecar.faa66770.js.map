{"version":3,"file":"static/js/vendor.use-sidecar.faa66770.js","mappings":"sJAEIA,EAAU,SAAUC,GACpB,IAAIC,EAAUD,EAAGC,QAASC,GAAOC,EAAAA,EAAAA,IAAOH,EAAI,CAAC,YAC7C,IAAKC,EACD,MAAM,IAAIG,MAAM,sEAEpB,IAAIC,EAASJ,EAAQK,OACrB,IAAKD,EACD,MAAM,IAAID,MAAM,4BAEpB,OAAOG,EAAAA,cAAoBF,GAAQG,EAAAA,EAAAA,IAAS,CAAC,EAAGN,GACpD,EAEO,SAASO,EAAcC,EAAQC,GAElC,OADAD,EAAOE,UAAUD,GACVZ,CACX,CAJAA,EAAQc,iBAAkB,C,kDCZ1B,SAASC,EAAKC,GACV,OAAOA,CACX,CACA,SAASC,EAAkBC,EAAUC,QACd,IAAfA,IAAyBA,EAAaJ,GAC1C,IAAIK,EAAS,GACTC,GAAW,EA0Df,MAzDa,CACTd,KAAM,WACF,GAAIc,EACA,MAAM,IAAIhB,MAAM,oGAEpB,OAAIe,EAAOE,OACAF,EAAOA,EAAOE,OAAS,GAE3BJ,CACX,EACAL,UAAW,SAAUU,GACjB,IAAIC,EAAOL,EAAWI,EAAMF,GAE5B,OADAD,EAAOK,KAAKD,GACL,WACHJ,EAASA,EAAOM,QAAO,SAAUC,GAAK,OAAOA,IAAMH,CAAM,GAC7D,CACJ,EACAI,iBAAkB,SAAUC,GAExB,IADAR,GAAW,EACJD,EAAOE,QAAQ,CAClB,IAAIQ,EAAMV,EACVA,EAAS,GACTU,EAAIC,QAAQF,EAChB,CACAT,EAAS,CACLK,KAAM,SAAUE,GAAK,OAAOE,EAAGF,EAAI,EACnCD,OAAQ,WAAc,OAAON,CAAQ,EAE7C,EACAY,aAAc,SAAUH,GACpBR,GAAW,EACX,IAAIY,EAAe,GACnB,GAAIb,EAAOE,OAAQ,CACf,IAAIQ,EAAMV,EACVA,EAAS,GACTU,EAAIC,QAAQF,GACZI,EAAeb,CACnB,CACA,IAAIc,EAAe,WACf,IAAIJ,EAAMG,EACVA,EAAe,GACfH,EAAIC,QAAQF,EAChB,EACIM,EAAQ,WAAc,OAAOC,QAAQC,UAAUC,KAAKJ,EAAe,EACvEC,IACAf,EAAS,CACLK,KAAM,SAAUE,GACZM,EAAaR,KAAKE,GAClBQ,GACJ,EACAT,OAAQ,SAAUA,GAEd,OADAO,EAAeA,EAAaP,OAAOA,GAC5BN,CACX,EAER,EAGR,CAMO,SAASmB,EAAoBC,QAChB,IAAZA,IAAsBA,EAAU,CAAC,GACrC,IAAI7B,EAASM,EAAkB,MAE/B,OADAN,EAAO6B,SAAU/B,EAAAA,EAAAA,IAAS,CAAEgC,OAAO,EAAMC,KAAK,GAASF,GAChD7B,CACX,C","sources":["../node_modules/use-sidecar/dist/es2015/exports.js","../node_modules/use-sidecar/dist/es2015/medium.js"],"sourcesContent":["import { __assign, __rest } from \"tslib\";\nimport * as React from 'react';\nvar SideCar = function (_a) {\n    var sideCar = _a.sideCar, rest = __rest(_a, [\"sideCar\"]);\n    if (!sideCar) {\n        throw new Error('Sidecar: please provide `sideCar` property to import the right car');\n    }\n    var Target = sideCar.read();\n    if (!Target) {\n        throw new Error('Sidecar medium not found');\n    }\n    return React.createElement(Target, __assign({}, rest));\n};\nSideCar.isSideCarExport = true;\nexport function exportSidecar(medium, exported) {\n    medium.useMedium(exported);\n    return SideCar;\n}\n","import { __assign } from \"tslib\";\nfunction ItoI(a) {\n    return a;\n}\nfunction innerCreateMedium(defaults, middleware) {\n    if (middleware === void 0) { middleware = ItoI; }\n    var buffer = [];\n    var assigned = false;\n    var medium = {\n        read: function () {\n            if (assigned) {\n                throw new Error('Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.');\n            }\n            if (buffer.length) {\n                return buffer[buffer.length - 1];\n            }\n            return defaults;\n        },\n        useMedium: function (data) {\n            var item = middleware(data, assigned);\n            buffer.push(item);\n            return function () {\n                buffer = buffer.filter(function (x) { return x !== item; });\n            };\n        },\n        assignSyncMedium: function (cb) {\n            assigned = true;\n            while (buffer.length) {\n                var cbs = buffer;\n                buffer = [];\n                cbs.forEach(cb);\n            }\n            buffer = {\n                push: function (x) { return cb(x); },\n                filter: function () { return buffer; },\n            };\n        },\n        assignMedium: function (cb) {\n            assigned = true;\n            var pendingQueue = [];\n            if (buffer.length) {\n                var cbs = buffer;\n                buffer = [];\n                cbs.forEach(cb);\n                pendingQueue = buffer;\n            }\n            var executeQueue = function () {\n                var cbs = pendingQueue;\n                pendingQueue = [];\n                cbs.forEach(cb);\n            };\n            var cycle = function () { return Promise.resolve().then(executeQueue); };\n            cycle();\n            buffer = {\n                push: function (x) {\n                    pendingQueue.push(x);\n                    cycle();\n                },\n                filter: function (filter) {\n                    pendingQueue = pendingQueue.filter(filter);\n                    return buffer;\n                },\n            };\n        },\n    };\n    return medium;\n}\nexport function createMedium(defaults, middleware) {\n    if (middleware === void 0) { middleware = ItoI; }\n    return innerCreateMedium(defaults, middleware);\n}\n// eslint-disable-next-line @typescript-eslint/ban-types\nexport function createSidecarMedium(options) {\n    if (options === void 0) { options = {}; }\n    var medium = innerCreateMedium(null);\n    medium.options = __assign({ async: true, ssr: false }, options);\n    return medium;\n}\n"],"names":["SideCar","_a","sideCar","rest","__rest","Error","Target","read","React","__assign","exportSidecar","medium","exported","useMedium","isSideCarExport","ItoI","a","innerCreateMedium","defaults","middleware","buffer","assigned","length","data","item","push","filter","x","assignSyncMedium","cb","cbs","forEach","assignMedium","pendingQueue","executeQueue","cycle","Promise","resolve","then","createSidecarMedium","options","async","ssr"],"sourceRoot":""}